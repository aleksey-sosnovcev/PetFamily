PetFamily üêæ
https://img.shields.io/badge/.NET-8.0-blue
https://img.shields.io/badge/ASP.NET_Core-8.0-blueviolet
https://img.shields.io/badge/PostgreSQL-16.0-blue
https://img.shields.io/badge/Docker-%E2%9C%93-blue
https://img.shields.io/badge/Swagger-%E2%9C%93-green
https://img.shields.io/badge/Seq-Logging-orange
https://img.shields.io/badge/MinIO-S3%2520Storage-yellow
https://img.shields.io/badge/license-MIT-green

PetFamily - —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö —Ö–æ–∑—è–µ–≤ –±–µ–∑–¥–æ–º–Ω—ã–º –∂–∏–≤–æ—Ç–Ω—ã–º. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–ª–æ–Ω—Ç–µ—Ä–∞–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö, –Ω—É–∂–¥–∞—é—â–∏—Ö—Å—è –≤ –¥–æ–º–µ, –∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º —Ö–æ–∑—è–µ–≤–∞–º - –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –∏ –ø–æ–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ adoption.

‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üìù –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MinIO)

üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∂–∏–≤–æ—Ç–Ω—ã—Ö –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

üìã –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ adoption —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π FluentValidation

üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

üîê JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

üìä –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

üìñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —á–µ—Ä–µ–∑ Swagger

üìù –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Seq

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture –∏ –≤–∫–ª—é—á–∞–µ—Ç:

Domain Layer - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å—É—â–Ω–æ—Å—Ç–∏

Application Layer - use cases –∏ CQRS

Infrastructure Layer - —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

API Layer - Web API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
Backend
.NET 8 - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

ASP.NET Core Web API - REST API

Entity Framework Core 8 - ORM

PostgreSQL - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

Redis - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

Hangfire - —Ñ–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á

Serilog - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

Seq - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤

FluentValidation - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

MediatR - –º–µ–¥–∏–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω (CQRS)

AutoMapper - –º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤

Swagger/OpenAPI - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

MinIO - S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
Docker - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

Docker Compose - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

Nginx - reverse proxy

GitHub Actions - CI/CD

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
.NET 8.0 SDK

Docker Desktop

PostgreSQL 16+ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/aleksey-sosnovcev/PetFamily.git
cd PetFamily

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
–°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º:

API: http://localhost:5000

Swagger UI: http://localhost:5000/swagger

Seq Logs: http://localhost:5341

MinIO Console: http://localhost:9001

pgAdmin: http://localhost:5050

Hangfire Dashboard: http://localhost:5000/hangfire

–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
Backend
bash
cd src/PetFamily.API

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
dotnet restore

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
dotnet ef database update

# –ó–∞–ø—É—Å–∫
dotnet run
API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ –∞–¥—Ä–µ—Å—É: https://localhost:7000/swagger

‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª appsettings.Development.json:

json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Database=PetFamilyDB;Username=postgres;Password=password",
    "Redis": "localhost:6379"
  },
  "Jwt": {
    "Key": "your-super-secure-jwt-key-minimum-32-chars",
    "Issuer": "PetFamily",
    "Audience": "PetFamilyUsers",
    "ExpiryInMinutes": 60
  },
  "MinIO": {
    "Endpoint": "localhost:9000",
    "AccessKey": "minioadmin",
    "SecretKey": "minioadmin",
    "BucketName": "petfamily",
    "WithSSL": false
  },
  "Seq": {
    "ServerUrl": "http://localhost:5341",
    "ApiKey": "optional-api-key"
  },
  "Logging": {
    "Seq": {
      "MinimumLevel": "Information",
      "UseDefaultLevel": false
    }
  }
}
üîç –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Swagger –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API:

Swagger UI: http://localhost:5000/swagger

OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: http://localhost:5000/swagger/v1/swagger.json

–ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å FluentValidation
csharp
public class CreatePetValidator : AbstractValidator<CreatePetRequest>
{
    public CreatePetValidator()
    {
        RuleFor(x => x.Name)
            .NotEmpty().WithMessage("–ò–º—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ")
            .MaximumLength(100).WithMessage("–ò–º—è –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 100 —Å–∏–º–≤–æ–ª–æ–≤");
        
        RuleFor(x => x.Age)
            .GreaterThan(0).WithMessage("–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º");
        
        RuleFor(x => x.Photos)
            .Must(photos => photos.Count <= 10)
            .WithMessage("–ù–µ –±–æ–ª–µ–µ 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –Ω–∞ –∂–∏–≤–æ—Ç–Ω–æ–µ");
    }
}
üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Serilog –∏ Seq:

csharp
// –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ
_logger.LogInformation("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {UserId} —Å–æ–∑–¥–∞–ª –Ω–æ–≤–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ {PetId}", 
    userId, petId);

_logger.LogWarning("–ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {Username}", 
    username);

_logger.LogError(ex, "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ –≤ MinIO –¥–ª—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ {PetId}", 
    petId);
–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –æ—Ç–∫—Ä–æ–π—Ç–µ Seq: http://localhost:5341

üìÅ –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MinIO –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤:

–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∂–∏–≤–æ—Ç–Ω—ã—Ö

–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ API

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–æ–≤

–†–∞–±–æ—Ç–∞ —Å MinIO
csharp
// –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ MinIO
await _minioService.UploadFileAsync(bucketName, objectName, stream, contentType);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª
var url = await _minioService.GetPresignedUrlAsync(bucketName, objectName);
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
PetFamily/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ PetFamily.API/           # Web API –ø—Ä–æ–µ–∫—Ç (Swagger, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ PetFamily.Application/   # Use cases, CQRS, FluentValidation
‚îÇ   ‚îú‚îÄ‚îÄ PetFamily.Domain/        # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ PetFamily.Infrastructure/ # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —Å–µ—Ä–≤–∏—Å—ã (MinIO, Seq)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ PetFamily.UnitTests/     # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (–≤–∫–ª—é—á–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—é)
‚îÇ   ‚îî‚îÄ‚îÄ PetFamily.IntegrationTests/ # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker/                      # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ seq/                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Seq
‚îÇ   ‚îî‚îÄ‚îÄ minio/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MinIO
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose (–≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã)
‚îî‚îÄ‚îÄ README.md
